{"version":3,"file":"commonHelpers2.js","sources":["../src/js/messages.js","../src/js/exercises-muscles.js","../src/js/search.js","../src/js/subscribe.js","../src/js/scroll-up.js"],"sourcesContent":["\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function warningEmail() {\n  iziToast.warning({\n    id: 'email-exists',\n    class: 'email-exists',\n    message: 'this email is already registered, pls choose another one.',\n    theme: 'dark',\n    messageSize: '18px',\n    messageColor: '#1B1B1B99',\n    backgroundColor: '#EEA10C',\n    color: '#EEA10C',\n    position: 'topRight',\n    transitionIn: 'fadeInLeft',\n    transitionOut: 'fadeOutRight',\n    transitionInMobile: 'fadeInLeft',\n    transitionInMobile: 'fadeOutRight',\n    maxWidth: '390px',\n    timeout: 5000,\n    closeOnEscape: 'true',\n  });\n}\n\nexport function errorNotification() {\n  iziToast.error({\n    id: 'wrong-search-data',\n    class: 'wrong-search-data',\n    message: 'pls, enter correct data.',\n    theme: 'dark',\n    messageSize: '18px',\n    messageColor: 'white',\n    backgroundColor: '#dd1e08',\n    color: '#dd1e08',\n    position: 'topRight',\n    transitionIn: 'fadeInLeft',\n    transitionOut: 'fadeOutRight',\n    transitionInMobile: 'fadeInLeft',\n    transitionInMobile: 'fadeOutRight',\n    maxWidth: '390px',\n    timeout: 5000,\n    closeOnEscape: 'true',\n  });\n}\n\n\nexport function info() {\n  iziToast.info({\n    id: 'found-nothing',\n    class: 'found-nothing',\n    message: \"we're sorry, but nothing was found for your request.\",\n    theme: 'dark',\n    messageSize: '18px',\n    messageColor: 'white',\n    position: 'topRight',\n    transitionIn: 'fadeInLeft',\n    transitionOut: 'fadeOutRight',\n    transitionInMobile: 'fadeInLeft',\n    transitionInMobile: 'fadeOutRight',\n    maxWidth: '390px',\n    timeout: 5000,\n    closeOnEscape: 'true',\n  });\n}\n\nexport function success() {\n  iziToast.success({\n    id: 'enter-success',\n    class: 'enter-success',\n    message: 'Great! You have successfully subscribed.',\n    messageColor: '#1b1b1b',\n    messageSize: '18px',\n    messageLineHeight: '1.2',\n    backgroundColor: '#F6F6F6',\n    color: '#F6F6F6',\n    maxWidth: '390px',\n    position: 'topRight',\n    timeout: 5000,\n    transitionIn: 'fadeInLeft',\n    transitionOut: 'fadeOutRight',\n    transitionInMobile: 'fadeInLeft',\n    transitionInMobile: 'fadeOutRight',\n    closeOnEscape: 'true',\n  });\n}\n","import axios from 'axios';\nimport { createPaginationFilters } from './pagination.js'; // Импортируем функцию создания пагинации\n\naxios.defaults.baseURL = 'https://energyflow.b.goit.study/api';\n\nconst switchList = document.querySelector('.switch-list');\nconst exercisesList = document.querySelector('.exercises-list');\nconst pagContainer = document.querySelector('#tui-pagination-container');\nconst bpFormWrapper = document.querySelector('.bp-form-wraper')\n\nlet pageSize = 8;\nlet currentPage = 1;\nlet defaultPage = 'Muscles';\nlet paginationInstance;\n\nswitchList.addEventListener('click', filterBtn);\n\nfunction debounce(func, wait) {\n  let timeout;\n  return function executedFunction(...args) {\n    const later = () => {\n      clearTimeout(timeout);\n      func(...args);\n    };\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n}\n\nfunction resizePage() {\n  if (window.innerWidth < 768) {\n    pageSize = 8;\n  } else {\n    pageSize = 12;\n  }\n}\n\nasync function getApiInfo({ filter, page = 1, limit = 12, type }) {\n  try {\n    const response = await axios.get(`/${type}`, {\n      params: {\n        filter,\n        page,\n        limit,\n      },\n    });\n    return response.data;\n  } catch {\n    console.error('Something wrong');\n  }\n}\n\nasync function getExercises() {\n  bpFormWrapper.classList.add('visually-hidden')\n  try {\n    const { page, totalPages, results } = await getApiInfo({\n      type: 'filters',\n      filter: defaultPage,\n      limit: pageSize,\n      page: currentPage,\n    });\n\n    exercisesList.innerHTML = createMarkup(results);\n    pagContainer.innerHTML = '';\n\n    if (totalPages > 1) {\n      paginationInstance = createPaginationFilters(\n        pagContainer,\n        totalPages,\n        currentPage,\n        pageSize,\n        onPageChange\n      );\n    }\n  } catch {\n    console.error;\n  }\n}\n\nfunction onPageChange(page) {\n  currentPage = page;\n  getExercises();\n}\n\nasync function filterBtn(event) {\n  event.preventDefault();\n\n  if (event.target.tagName !== 'BUTTON') {\n    return;\n  }\n\n  exercisesList.innerHTML = '';\n  currentPage = 1;\n  const filterValue = event.target;\n  const query = filterValue.dataset.filter;\n  defaultPage = query;\n\n  Array.from(event.currentTarget.children).map(item => {\n    if (item.textContent !== event.target.textContent) {\n      item.classList.remove('is-active');\n    } else {\n      item.classList.add('is-active');\n    }\n  });\n\n  try {\n    await getExercises();\n  } catch {\n    console.error('oops');\n  }\n}\n\nfunction createMarkup(results) {\n  const markUp = results\n    .map(\n      ({ name, filter, imgUrl }) =>\n        `<li class=\"exercises-item\" data-filter=\"${filter}\" data-name=\"${name}\">         \n          <div class=\"image-container\">\n            <img class=\"exercises-image\" src=\"${imgUrl}\" alt=\"${filter}\"/>\n            <div class=\"text-container\">\n              <h3 class=\"exercises-title\">${name}</h3>\n              <p class=\"exercises-text\">${filter}</p>\n            </div>\n          </div>\n         </li>`\n    )\n    .join('');\n  return markUp;\n}\n\nwindow.addEventListener('load', () => {\n  resizePage();\n  getExercises();\n});\n\naddEventListener(\n  'resize',\n  debounce(() => {\n    const prevItemsPerPage = pageSize;\n    resizePage();\n\n    if (prevItemsPerPage !== pageSize) {\n      getExercises();\n    }\n  }, 250)\n);\n","import { getApiInfo } from './api.js';\n\ndocument.addEventListener('DOMContentLoaded', async function () {\n    const switchItems = document.querySelectorAll('.switch-item');\n    const exercisesList = document.querySelector('.exercises-list');\n    const bpList = document.querySelector('.bp-list');\n    const bpFormWrapper = document.querySelector('.bp-form-wraper');\n    const bpSearchInput = document.querySelector('.bp-search-input');\n\n    // switch-item \n    for (let i = 0; i < switchItems.length; i++) {\n        switchItems[i].addEventListener('click', async function() {\n            const filter = switchItems[i].dataset.filter;\n\n            clearSearchResults();\n\n            const searchTerm = bpSearchInput.value.trim().toLowerCase();\n            performSearch('Muscles', 'All', searchTerm);\n        });\n    }\n\n    // Чистимо попередній пошук\n    function clearSearchResults() {\n        bpList.innerHTML = '';\n    }\n\n    // Пошук\n    async function performSearch(filter, subtype, searchTerm) {\n        const filteredExercises = Array.from(bpList.children).filter(exercise =>\n            exercise.textContent.toLowerCase().includes(searchTerm)\n        );\n        if (filteredExercises.length === 0) {\n            renderErrorMessage('');\n        } else {\n            renderExercises(filteredExercises, bpList);\n        }\n    }\n    // Помилка пошуку\nfunction renderErrorMessage(message) {\n    bpList.innerHTML = `<p class=\"exercise-no-result\">\n              Unfortunately,  <span class=\"exercise-span\"> no results</span> were\n              found. You may want to consider other search options to find the\n              exercise you are looking for. Our range is wide and you have the\n              opportunity to find more options that suit your needs.\n          </p>`;\n}\n\n    async function renderExercises(exercises, list) {\n        list.innerHTML = ''; // Очищаємо список\n        for (let i = 0; i < exercises.length; i++) {\n            const exercise = exercises[i];\n            const li = document.createElement('li');\n            li.classList.add('bp-item');\n            li.dataset.id = exercise.dataset.id;\n\n            li.innerHTML = exercise.innerHTML;\n\n            li.addEventListener('click', function() {\n                bpFormWrapper.classList.remove('visually-hidden');\n            });\n\n            list.appendChild(li);\n        }\n    }\n\n    bpSearchInput.addEventListener('input', function() {\n        const searchTerm = bpSearchInput.value.trim().toLowerCase();\n        performSearch('Muscles', 'All', searchTerm);\n    });\n\n    // Філтр та підвид \n    document.getElementById('bp-form').addEventListener('submit', function(event) {\n        event.preventDefault();\n        const filter = document.querySelector('.switch-item.is-active').dataset.filter;\n        const subtype = 'All';\n        const searchTerm = bpSearchInput.value.trim().toLowerCase();\n        performSearch(filter, subtype, searchTerm);\n    });\n\n    exercisesList.addEventListener('click', function(event) {\n        const targetItem = event.target.closest('.exercises-item');\n        if (targetItem) {\n            event.preventDefault();\n            bpFormWrapper.classList.remove('visually-hidden');\n        }\n    });\n\n    //Перехід switchItems\n    switchItems.forEach(item => {\n        item.addEventListener('click', function() {\n            if (!bpList.classList.contains('visually-hidden')) {\n                exercisesList.classList.remove('visually-hidden');\n            }\n        });\n    });\n});\n","import iziToast from 'izitoast';\nimport { warningEmail, errorNotification, success } from './messages';\nimport { postApiInfo } from './api';\n\nconst form = document.querySelector('#subscribe-form');\nconst inputFooter = document.querySelector('#footer-input');\n\nconst regex = /[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}/;\n\nform.addEventListener('submit', async e => {\n  e.preventDefault();\n\n  const email = form.elements.email.value.trim().toLowerCase();\n\n  if (!email.match(regex)) {\n    inputFooter.style.borderColor = 'red';\n    errorNotification();\n    return;\n  }\n\n    const result = await subscribe(email);\n    inputFooter.style.borderColor = '#7e847f';\n\n  if (result) {\n    success();\n  }\n  form.reset();\n});\n\nasync function subscribe(email) {\n  try {\n    const result = await postApiInfo({ email }, 'subscription');\n    return result;\n  } catch (error) {\n    if (error.response.status === 409) {\n      warningEmail();\n      return;\n    }\n    errorNotification();\n  }\n}\n","const scrollButton = document.querySelector('.scroll-up');\n\nwindow.addEventListener('scroll', function () {\n  if (document.documentElement.scrollTop > 20) {\n    scrollButton.style.display = 'block';\n  } else {\n    scrollButton.style.display = 'none';\n  }\n});\nfunction scrollToTop(event) {\n  event.preventDefault(); \n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth'\n  });\n}\n"],"names":["warningEmail","iziToast","errorNotification","success","axios","switchList","exercisesList","pagContainer","bpFormWrapper","pageSize","currentPage","defaultPage","paginationInstance","filterBtn","debounce","func","wait","timeout","args","later","resizePage","getApiInfo","filter","page","limit","type","getExercises","totalPages","results","createMarkup","createPaginationFilters","onPageChange","event","item","name","imgUrl","prevItemsPerPage","switchItems","bpList","bpSearchInput","i","clearSearchResults","searchTerm","performSearch","subtype","filteredExercises","exercise","renderErrorMessage","renderExercises","message","exercises","list","li","form","inputFooter","regex","email","result","subscribe","postApiInfo","error","scrollButton"],"mappings":"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"}