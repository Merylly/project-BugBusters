{"version":3,"file":"commonHelpers2.js","sources":["../src/js/messages.js","../src/js/exercises-muscles.js","../src/js/search.js","../src/js/subscribe.js"],"sourcesContent":["\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function warningEmail() {\n  iziToast.warning({\n    id: 'email-exists',\n    class: 'email-exists',\n    message: 'this email is already registered, pls choose another one.',\n    theme: 'dark',\n    messageSize: '18px',\n    messageColor: '#1B1B1B99',\n    backgroundColor: '#EEA10C',\n    color: '#EEA10C',\n    position: 'topRight',\n    transitionIn: 'fadeInLeft',\n    transitionOut: 'fadeOutRight',\n    transitionInMobile: 'fadeInLeft',\n    transitionInMobile: 'fadeOutRight',\n    maxWidth: '390px',\n    timeout: 5000,\n    closeOnEscape: 'true',\n  });\n}\n\nexport function errorNotification() {\n  iziToast.error({\n    id: 'wrong-search-data',\n    class: 'wrong-search-data',\n    message: 'pls, enter correct data.',\n    theme: 'dark',\n    messageSize: '18px',\n    messageColor: 'white',\n    backgroundColor: '#dd1e08',\n    color: '#dd1e08',\n    position: 'topRight',\n    transitionIn: 'fadeInLeft',\n    transitionOut: 'fadeOutRight',\n    transitionInMobile: 'fadeInLeft',\n    transitionInMobile: 'fadeOutRight',\n    maxWidth: '390px',\n    timeout: 5000,\n    closeOnEscape: 'true',\n  });\n}\n\n\nexport function info() {\n  iziToast.info({\n    id: 'found-nothing',\n    class: 'found-nothing',\n    message: \"we're sorry, but nothing was found for your request.\",\n    theme: 'dark',\n    messageSize: '18px',\n    messageColor: 'white',\n    position: 'topRight',\n    transitionIn: 'fadeInLeft',\n    transitionOut: 'fadeOutRight',\n    transitionInMobile: 'fadeInLeft',\n    transitionInMobile: 'fadeOutRight',\n    maxWidth: '390px',\n    timeout: 5000,\n    closeOnEscape: 'true',\n  });\n}\n\nexport function success() {\n  iziToast.success({\n    id: 'enter-success',\n    class: 'enter-success',\n    message: 'Great! You have successfully subscribed.',\n    messageColor: '#1b1b1b',\n    messageSize: '18px',\n    messageLineHeight: '1.2',\n    backgroundColor: '#F6F6F6',\n    color: '#F6F6F6',\n    maxWidth: '390px',\n    position: 'topRight',\n    timeout: 5000,\n    transitionIn: 'fadeInLeft',\n    transitionOut: 'fadeOutRight',\n    transitionInMobile: 'fadeInLeft',\n    transitionInMobile: 'fadeOutRight',\n    closeOnEscape: 'true',\n  });\n}\n","import axios from 'axios';\nimport { createPaginationFilters } from './pagination.js'; // Импортируем функцию создания пагинации\n\naxios.defaults.baseURL = 'https://energyflow.b.goit.study/api';\n\nconst switchList = document.querySelector('.switch-list');\nconst exercisesList = document.querySelector('.exercises-list');\nconst pagContainer = document.querySelector('#tui-pagination-container');\nconst bpFormWrapper = document.querySelector('.bp-form-wraper')\n\nlet pageSize = 8;\nlet currentPage = 1;\nlet defaultPage = 'Muscles';\nlet paginationInstance;\n\nswitchList.addEventListener('click', filterBtn);\n\nfunction debounce(func, wait) {\n  let timeout;\n  return function executedFunction(...args) {\n    const later = () => {\n      clearTimeout(timeout);\n      func(...args);\n    };\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n}\n\nfunction resizePage() {\n  if (window.innerWidth < 768) {\n    pageSize = 8;\n  } else {\n    pageSize = 12;\n  }\n}\n\nasync function getApiInfo({ filter, page = 1, limit = 12, type }) {\n  try {\n    const response = await axios.get(`/${type}`, {\n      params: {\n        filter,\n        page,\n        limit,\n      },\n    });\n    return response.data;\n  } catch {\n    console.error('Something wrong');\n  }\n}\n\nasync function getExercises() {\n  bpFormWrapper.classList.add('visually-hidden')\n  try {\n    const { page, totalPages, results } = await getApiInfo({\n      type: 'filters',\n      filter: defaultPage,\n      limit: pageSize,\n      page: currentPage,\n    });\n\n    exercisesList.innerHTML = createMarkup(results);\n    pagContainer.innerHTML = '';\n\n    if (totalPages > 1) {\n      paginationInstance = createPaginationFilters(\n        pagContainer,\n        totalPages,\n        currentPage,\n        pageSize,\n        onPageChange\n      );\n    }\n  } catch {\n    console.error;\n  }\n}\n\nfunction onPageChange(page) {\n  currentPage = page;\n  getExercises();\n}\n\nasync function filterBtn(event) {\n  event.preventDefault();\n\n  if (event.target.tagName !== 'BUTTON') {\n    return;\n  }\n\n  exercisesList.innerHTML = '';\n  currentPage = 1;\n  const filterValue = event.target;\n  const query = filterValue.dataset.filter;\n  defaultPage = query;\n\n  Array.from(event.currentTarget.children).map(item => {\n    if (item.textContent !== event.target.textContent) {\n      item.classList.remove('is-active');\n    } else {\n      item.classList.add('is-active');\n    }\n  });\n\n  try {\n    await getExercises();\n  } catch {\n    console.error('oops');\n  }\n}\n\nfunction createMarkup(results) {\n  const markUp = results\n    .map(\n      ({ name, filter, imgUrl }) =>\n        `<li class=\"exercises-item\" data-filter=\"${filter}\" data-name=\"${name}\">         \n          <div class=\"image-container\">\n            <img class=\"exercises-image\" src=\"${imgUrl}\" alt=\"${filter}\"/>\n            <div class=\"text-container\">\n              <h3 class=\"exercises-title\">${name}</h3>\n              <p class=\"exercises-text\">${filter}</p>\n            </div>\n          </div>\n         </li>`\n    )\n    .join('');\n  return markUp;\n}\n\nwindow.addEventListener('load', () => {\n  resizePage();\n  getExercises();\n});\n\naddEventListener(\n  'resize',\n  debounce(() => {\n    const prevItemsPerPage = pageSize;\n    resizePage();\n\n    if (prevItemsPerPage !== pageSize) {\n      getExercises();\n    }\n  }, 250)\n);\n","import { getApiInfo } from './api.js';\nimport { postApiInfo } from './api.js';\n\ndocument.addEventListener('DOMContentLoaded', function() {\n  const form = document.getElementById('bp-form');\n  const searchInput = document.querySelector('.bp-search-input');\n  const bpList = document.querySelector('.bp-list');\n  const switchItems = document.querySelectorAll('.switch-item');\n  let page = 1; \n  let limit = 9; \n  let filter = '';\n  let subtype = '';\n\n    switchItems.forEach(item => {\n        item.addEventListener('click', function() {\n    switchItems.forEach(element => {\n        element.classList.remove('is-active');\n    });\n    this.classList.add('is-active');\n        filter = this.textContent.trim();\n    });\n});\n\n  form.addEventListener('submit', function(event) {\n    event.preventDefault();\n    const searchTerm = searchInput.value.trim().toLowerCase();\n\n    bpList.innerHTML = '';\n\n    axios.get(`/api/exercises`, {\n      params: {\n        search: searchTerm,\n        filter: filter,\n        subtype: subtype,\n        page: page,\n        limit: limit\n      }\n    })\n    .then(response => {\n      const data = response.data;\n      if (data.length === 0) {\n        iziToast.error({\n          title: 'No Results',\n          message: '',\n          position: 'topCenter',\n          timeout: 5000,\n          closeOnClick: true\n        });\n      } else {\n        data.forEach(exercise => {\n          const listItem = document.createElement('li');\n          listItem.textContent = exercise.name;\n          bpList.appendChild(listItem);\n        });\n      }\n    })\n        .catch(error => {\n            error;\n    });\n  });\n});","import iziToast from 'izitoast';\nimport { warningEmail, errorNotification, success } from './messages';\nimport { postApiInfo } from './api';\n\nconst form = document.querySelector('#subscribe-form');\nconst inputFooter = document.querySelector('#footer-input');\n\nconst regex = /[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}/;\n\nform.addEventListener('submit', async e => {\n  e.preventDefault();\n\n  const email = form.elements.email.value.trim().toLowerCase();\n\n  if (!email.match(regex)) {\n    inputFooter.style.borderColor = 'red';\n    warningEmail();\n    return;\n  }\n\n  const result = await subscribe(email);\n  if (result) {\n    success();\n  }\n  form.reset();\n});\n\nasync function subscribe(email) {\n  try {\n    const result = await postApiInfo({ email }, 'subscription');\n    return result;\n  } catch (error) {\n    if (error.response.status === 409) {\n      warningEmail();\n      return;\n    }\n    errorNotification();\n  }\n}\n"],"names":["warningEmail","iziToast","errorNotification","success","axios","switchList","exercisesList","pagContainer","bpFormWrapper","pageSize","currentPage","defaultPage","paginationInstance","filterBtn","debounce","func","wait","timeout","args","later","resizePage","getApiInfo","filter","page","limit","type","getExercises","totalPages","results","createMarkup","createPaginationFilters","onPageChange","event","item","name","imgUrl","prevItemsPerPage","form","searchInput","bpList","switchItems","subtype","element","searchTerm","response","data","exercise","listItem","error","inputFooter","regex","email","subscribe","postApiInfo"],"mappings":"6GAIO,SAASA,GAAe,CAC7BC,EAAS,QAAQ,CACf,GAAI,eACJ,MAAO,eACP,QAAS,4DACT,MAAO,OACP,YAAa,OACb,aAAc,YACd,gBAAiB,UACjB,MAAO,UACP,SAAU,WACV,aAAc,aACd,cAAe,eACf,mBAAoB,aACpB,mBAAoB,eACpB,SAAU,QACV,QAAS,IACT,cAAe,MACnB,CAAG,CACH,CAEO,SAASC,GAAoB,CAClCD,EAAS,MAAM,CACb,GAAI,oBACJ,MAAO,oBACP,QAAS,2BACT,MAAO,OACP,YAAa,OACb,aAAc,QACd,gBAAiB,UACjB,MAAO,UACP,SAAU,WACV,aAAc,aACd,cAAe,eACf,mBAAoB,aACpB,mBAAoB,eACpB,SAAU,QACV,QAAS,IACT,cAAe,MACnB,CAAG,CACH,CAsBO,SAASE,GAAU,CACxBF,EAAS,QAAQ,CACf,GAAI,gBACJ,MAAO,gBACP,QAAS,2CACT,aAAc,UACd,YAAa,OACb,kBAAmB,MACnB,gBAAiB,UACjB,MAAO,UACP,SAAU,QACV,SAAU,WACV,QAAS,IACT,aAAc,aACd,cAAe,eACf,mBAAoB,aACpB,mBAAoB,eACpB,cAAe,MACnB,CAAG,CACH,CClFAG,EAAM,SAAS,QAAU,sCAEzB,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAgB,SAAS,cAAc,iBAAiB,EACxDC,EAAe,SAAS,cAAc,2BAA2B,EACjEC,EAAgB,SAAS,cAAc,iBAAiB,EAE9D,IAAIC,EAAW,EACXC,EAAc,EACdC,EAAc,UACdC,EAEJP,EAAW,iBAAiB,QAASQ,CAAS,EAE9C,SAASC,EAASC,EAAMC,EAAM,CAC5B,IAAIC,EACJ,OAAO,YAA6BC,EAAM,CACxC,MAAMC,EAAQ,IAAM,CAClB,aAAaF,CAAO,EACpBF,EAAK,GAAGG,CAAI,CAClB,EACI,aAAaD,CAAO,EACpBA,EAAU,WAAWE,EAAOH,CAAI,CACpC,CACA,CAEA,SAASI,GAAa,CAChB,OAAO,WAAa,IACtBX,EAAW,EAEXA,EAAW,EAEf,CAEA,eAAeY,EAAW,CAAE,OAAAC,EAAQ,KAAAC,EAAO,EAAG,MAAAC,EAAQ,GAAI,KAAAC,GAAQ,CAChE,GAAI,CAQF,OAPiB,MAAMrB,EAAM,IAAI,IAAIqB,CAAI,GAAI,CAC3C,OAAQ,CACN,OAAAH,EACA,KAAAC,EACA,MAAAC,CACD,CACP,CAAK,GACe,IACpB,MAAU,CACN,QAAQ,MAAM,iBAAiB,CAChC,CACH,CAEA,eAAeE,GAAe,CAC5BlB,EAAc,UAAU,IAAI,iBAAiB,EAC7C,GAAI,CACF,KAAM,CAAE,KAAAe,EAAM,WAAAI,EAAY,QAAAC,CAAS,EAAG,MAAMP,EAAW,CACrD,KAAM,UACN,OAAQV,EACR,MAAOF,EACP,KAAMC,CACZ,CAAK,EAEDJ,EAAc,UAAYuB,EAAaD,CAAO,EAC9CrB,EAAa,UAAY,GAErBoB,EAAa,IACff,EAAqBkB,EACnBvB,EACAoB,EACAjB,EACAD,EACAsB,CACR,EAEA,MAAU,CAEP,CACH,CAEA,SAASA,EAAaR,EAAM,CAC1Bb,EAAca,EACdG,GACF,CAEA,eAAeb,EAAUmB,EAAO,CAG9B,GAFAA,EAAM,eAAc,EAEhBA,EAAM,OAAO,UAAY,SAC3B,OAGF1B,EAAc,UAAY,GAC1BI,EAAc,EAGdC,EAFoBqB,EAAM,OACA,QAAQ,OAGlC,MAAM,KAAKA,EAAM,cAAc,QAAQ,EAAE,IAAIC,GAAQ,CAC/CA,EAAK,cAAgBD,EAAM,OAAO,YACpCC,EAAK,UAAU,OAAO,WAAW,EAEjCA,EAAK,UAAU,IAAI,WAAW,CAEpC,CAAG,EAED,GAAI,CACF,MAAMP,EAAY,CACtB,MAAU,CACN,QAAQ,MAAM,MAAM,CACrB,CACH,CAEA,SAASG,EAAaD,EAAS,CAe7B,OAdeA,EACZ,IACC,CAAC,CAAE,KAAAM,EAAM,OAAAZ,EAAQ,OAAAa,CAAQ,IACvB,2CAA2Cb,CAAM,gBAAgBY,CAAI;AAAA;AAAA,gDAE7BC,CAAM,UAAUb,CAAM;AAAA;AAAA,4CAE1BY,CAAI;AAAA,0CACNZ,CAAM;AAAA;AAAA;AAAA,eAI3C,EACA,KAAK,EAAE,CAEZ,CAEA,OAAO,iBAAiB,OAAQ,IAAM,CACpCF,IACAM,GACF,CAAC,EAED,iBACE,SACAZ,EAAS,IAAM,CACb,MAAMsB,EAAmB3B,EACzBW,IAEIgB,IAAqB3B,GACvBiB,GAEH,EAAE,GAAG,CACR,EC9IA,SAAS,iBAAiB,mBAAoB,UAAW,CACvD,MAAMW,EAAO,SAAS,eAAe,SAAS,EACxCC,EAAc,SAAS,cAAc,kBAAkB,EACvDC,EAAS,SAAS,cAAc,UAAU,EAC1CC,EAAc,SAAS,iBAAiB,cAAc,EAC5D,IAAIjB,EAAO,EACPC,EAAQ,EACRF,EAAS,GACTmB,EAAU,GAEZD,EAAY,QAAQP,GAAQ,CACxBA,EAAK,iBAAiB,QAAS,UAAW,CAC9CO,EAAY,QAAQE,GAAW,CAC3BA,EAAQ,UAAU,OAAO,WAAW,CAC5C,CAAK,EACD,KAAK,UAAU,IAAI,WAAW,EAC1BpB,EAAS,KAAK,YAAY,MAClC,CAAK,CACL,CAAC,EAECe,EAAK,iBAAiB,SAAU,SAASL,EAAO,CAC9CA,EAAM,eAAc,EACpB,MAAMW,EAAaL,EAAY,MAAM,KAAM,EAAC,YAAW,EAEvDC,EAAO,UAAY,GAEnB,MAAM,IAAI,iBAAkB,CAC1B,OAAQ,CACN,OAAQI,EACR,OAAQrB,EACR,QAASmB,EACT,KAAMlB,EACN,MAAOC,CACR,CACP,CAAK,EACA,KAAKoB,GAAY,CAChB,MAAMC,EAAOD,EAAS,KAClBC,EAAK,SAAW,EAClB,SAAS,MAAM,CACb,MAAO,aACP,QAAS,GACT,SAAU,YACV,QAAS,IACT,aAAc,EACxB,CAAS,EAEDA,EAAK,QAAQC,GAAY,CACvB,MAAMC,EAAW,SAAS,cAAc,IAAI,EAC5CA,EAAS,YAAcD,EAAS,KAChCP,EAAO,YAAYQ,CAAQ,CACrC,CAAS,CAET,CAAK,EACI,MAAMC,GAAS,CAExB,CAAK,CACL,CAAG,CACH,CAAC,ECxDD,MAAMX,EAAO,SAAS,cAAc,iBAAiB,EAC/CY,EAAc,SAAS,cAAc,eAAe,EAEpDC,EAAQ,iDAEdb,EAAK,iBAAiB,SAAU,MAAM,GAAK,CACzC,EAAE,eAAc,EAEhB,MAAMc,EAAQd,EAAK,SAAS,MAAM,MAAM,KAAI,EAAG,cAE/C,GAAI,CAACc,EAAM,MAAMD,CAAK,EAAG,CACvBD,EAAY,MAAM,YAAc,MAChCjD,IACA,MACD,CAEc,MAAMoD,EAAUD,CAAK,GAElChD,IAEFkC,EAAK,MAAK,CACZ,CAAC,EAED,eAAee,EAAUD,EAAO,CAC9B,GAAI,CAEF,OADe,MAAME,EAAY,CAAE,MAAAF,CAAO,EAAE,cAAc,CAE3D,OAAQH,EAAO,CACd,GAAIA,EAAM,SAAS,SAAW,IAAK,CACjChD,IACA,MACD,CACDE,GACD,CACH"}