import{p as q}from"./assets/favorites-e475ade0.js";import{i as h,P as k,a as w}from"./assets/vendor-e28a185d.js";function O(){h.warning({id:"email-exists",class:"email-exists",message:"this email is already registered, pls choose another one.",theme:"dark",messageSize:"18px",messageColor:"#1B1B1B99",backgroundColor:"#EEA10C",color:"#EEA10C",position:"topRight",transitionIn:"fadeInLeft",transitionOut:"fadeOutRight",transitionInMobile:"fadeInLeft",transitionInMobile:"fadeOutRight",maxWidth:"390px",timeout:5e3,closeOnEscape:"true"})}function x(){h.error({id:"wrong-search-data",class:"wrong-search-data",message:"pls, enter correct data.",theme:"dark",messageSize:"18px",messageColor:"white",backgroundColor:"#dd1e08",color:"#dd1e08",position:"topRight",transitionIn:"fadeInLeft",transitionOut:"fadeOutRight",transitionInMobile:"fadeInLeft",transitionInMobile:"fadeOutRight",maxWidth:"390px",timeout:5e3,closeOnEscape:"true"})}function z(){h.success({id:"enter-success",class:"enter-success",message:"Great! You have successfully subscribed.",messageColor:"#1b1b1b",messageSize:"18px",messageLineHeight:"1.2",backgroundColor:"#F6F6F6",color:"#F6F6F6",maxWidth:"390px",position:"topRight",timeout:5e3,transitionIn:"fadeInLeft",transitionOut:"fadeOutRight",transitionInMobile:"fadeInLeft",transitionInMobile:"fadeOutRight",closeOnEscape:"true"})}function A(e){window.innerWidth<768?pageSize=8:pageSize=12;const s=document.querySelector(".tui-pagination");return new k(s,{totalItems:pageSize*e,itemsPerPage:pageSize,visiblePages:3,centerAlign:!0})}w.defaults.baseURL="https://energyflow.b.goit.study/api";const P=document.querySelector(".switch-list"),S=document.querySelector(".exercises-list"),L=document.querySelector("#tui-pagination-container"),F=document.querySelector(".bp-form-wraper");let u=8,d=1,E="Muscles",R;P.addEventListener("click",W);function H(e,s){let t;return function(...r){const m=()=>{clearTimeout(t),e(...r)};clearTimeout(t),t=setTimeout(m,s)}}function I(){window.innerWidth<768?u=8:u=12}async function $({filter:e,page:s=1,limit:t=12,type:i}){try{return(await w.get(`/${i}`,{params:{filter:e,page:s,limit:t}})).data}catch{console.error("Something wrong")}}async function f(){F.classList.add("visually-hidden");try{const{page:e,totalPages:s,results:t}=await $({type:"filters",filter:E,limit:u,page:d});S.innerHTML=D(t),L.innerHTML="",s>1&&(R=A(L,s,d,u,B))}catch{}}function B(e){d=e,f()}async function W(e){if(e.preventDefault(),e.target.tagName!=="BUTTON")return;S.innerHTML="",d=1,E=e.target.dataset.filter,Array.from(e.currentTarget.children).map(i=>{i.textContent!==e.target.textContent?i.classList.remove("is-active"):i.classList.add("is-active")});try{await f()}catch{console.error("oops")}}function D(e){return e.map(({name:t,filter:i,imgUrl:r})=>`<li class="exercises-item" data-filter="${i}" data-name="${t}">         
          <div class="image-container">
            <img class="exercises-image" src="${r}" alt="${i}"/>
            <div class="text-container">
              <h3 class="exercises-title">${t}</h3>
              <p class="exercises-text">${i}</p>
            </div>
          </div>
         </li>`).join("")}window.addEventListener("load",()=>{I(),f()});addEventListener("resize",H(()=>{const e=u;I(),e!==u&&f()},250));document.addEventListener("DOMContentLoaded",async function(){const e=document.querySelectorAll(".switch-item"),s=document.querySelector(".exercises-list"),t=document.querySelector(".bp-list"),i=document.querySelector(".bp-form-wraper"),r=document.querySelector(".bp-search-input"),m=document.querySelector(".bp-search-button");let y=!1;for(let n=0;n<e.length;n++)e[n].addEventListener("click",async function(){if(e[n].dataset.filter,y){const o=r.value.trim().toLowerCase();p("Muscles","All",o)}else C()});function C(){t.innerHTML=""}async function p(n,o,a){const c=Array.from(t.children).filter(l=>l.textContent.toLowerCase().includes(a));c.length===0?M():T(c,t),y=!0}function M(n){t.innerHTML=`<p class="exercise-no-result">
              Unfortunately,  <span class="exercise-span"> no results</span> were
              found. You may want to consider other search options to find the
              exercise you are looking for. Our range is wide and you have the
              opportunity to find more options that suit your needs.
          </p>`}async function T(n,o){o.innerHTML="";for(let a=0;a<n.length;a++){const c=n[a],l=document.createElement("li");l.classList.add("bp-item"),l.dataset.id=c.dataset.id,l.innerHTML=c.innerHTML,l.addEventListener("click",function(){i.classList.remove("visually-hidden")}),o.appendChild(l)}}r.closest("form").addEventListener("submit",function(n){n.preventDefault();const o=r.value.trim().toLowerCase();p("Muscles","All",o),r.value=""}),m.addEventListener("click",function(n){n.preventDefault();const o=document.querySelector(".switch-item.is-active").dataset.filter,a="All",c=r.value.trim().toLowerCase();p(o,a,c),r.value=""}),s.addEventListener("click",function(n){n.target.closest(".exercises-item")&&(n.preventDefault(),i.classList.remove("visually-hidden"))}),e.forEach(n=>{n.addEventListener("click",function(){t.classList.contains("visually-hidden")||t.classList.add("visually-hidden"),s.classList.contains("visually-hidden")&&s.classList.remove("visually-hidden")})})});const g=document.querySelector("#subscribe-form"),b=document.querySelector("#footer-input"),U=/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/;g.addEventListener("submit",async e=>{e.preventDefault();const s=g.elements.email.value.trim().toLowerCase();if(!s.match(U)){b.style.borderColor="red",x();return}const t=await N(s);b.style.borderColor="#7e847f",t&&z(),g.reset()});async function N(e){try{return await q({email:e},"subscription")}catch(s){if(s.response.status===409){O();return}x()}}const v=document.querySelector(".scroll-up");window.addEventListener("scroll",function(){document.documentElement.scrollTop>20?v.style.display="block":v.style.display="none"});
//# sourceMappingURL=commonHelpers2.js.map
