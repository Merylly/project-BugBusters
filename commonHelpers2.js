import{c as v,p as O}from"./assets/modal-ce6856fb.js";import{i as m,a as x}from"./assets/vendor-8c2391c4.js";function y(){m.warning({id:"email-exists",class:"email-exists",message:"this email is already registered, pls choose another one.",theme:"dark",messageSize:"18px",messageColor:"#1B1B1B99",backgroundColor:"#EEA10C",color:"#EEA10C",position:"topRight",transitionIn:"fadeInLeft",transitionOut:"fadeOutRight",transitionInMobile:"fadeInLeft",transitionInMobile:"fadeOutRight",maxWidth:"390px",timeout:5e3,closeOnEscape:"true"})}function M(){m.error({id:"wrong-search-data",class:"wrong-search-data",message:"pls, enter correct data.",theme:"dark",messageSize:"18px",messageColor:"white",backgroundColor:"#dd1e08",color:"#dd1e08",position:"topRight",transitionIn:"fadeInLeft",transitionOut:"fadeOutRight",transitionInMobile:"fadeInLeft",transitionInMobile:"fadeOutRight",maxWidth:"390px",timeout:5e3,closeOnEscape:"true"})}function S(){m.success({id:"enter-success",class:"enter-success",message:"Great! You have successfully subscribed.",messageColor:"#1b1b1b",messageSize:"18px",messageLineHeight:"1.2",backgroundColor:"#F6F6F6",color:"#F6F6F6",maxWidth:"390px",position:"topRight",timeout:5e3,transitionIn:"fadeInLeft",transitionOut:"fadeOutRight",transitionInMobile:"fadeInLeft",transitionInMobile:"fadeOutRight",closeOnEscape:"true"})}x.defaults.baseURL="https://energyflow.b.goit.study/api";const T=document.querySelector(".switch-list"),L=document.querySelector(".exercises-list"),b=document.querySelector("#tui-pagination-container");let n=8,o=1,w="Muscles",k;T.addEventListener("click",A);function z(e,i){let t;return function(...a){const c=()=>{clearTimeout(t),e(...a)};clearTimeout(t),t=setTimeout(c,i)}}function I(){window.innerWidth<767?n=8:(window.innerWidth<768,n=12)}async function R({filter:e,page:i=1,limit:t=12,type:s}){try{return(await x.get(`/${s}`,{params:{filter:e,page:i,limit:t}})).data}catch{console.error("Something wrong")}}async function r(){try{const e=await R({type:"filters",filter:w,limit:n,page:o}),{page:i,totalPages:t,results:s}=e;L.innerHTML=F(s),b.innerHTML="",t>1&&(k=v(b,t,o,n,q))}catch{}}function q(e){o=e,r()}r();async function A(e){if(e.preventDefault(),e.target.tagName!=="BUTTON")return;L.innerHTML="",o=1,w=e.target.dataset.filter,Array.from(e.currentTarget.children).map(s=>{s.textContent!==e.target.textContent?s.classList.remove("is-active"):s.classList.add("is-active")});try{await r()}catch{console.error("oops")}}function F(e){return e.map(({name:t,filter:s,imgUrl:a})=>`<li class="exercises-item" data-filter="${s}" data-name="${t}">         
          <div class="image-container">
            <img class="exercises-image" src="${a}" alt="${s}"/>
            <div class="text-container">
              <h3 class="exercises-title">${t}</h3>
              <p class="exercises-text">${s}</p>
            </div>
          </div>
         </li>`).join("")}window.addEventListener("load",()=>{I(),r()});addEventListener("resize",z(()=>{const e=n;I(),e!==n&&r()},250));document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("bp-form"),i=document.querySelector(".bp-search-input"),t=document.querySelector(".bp-list"),s=document.querySelectorAll(".switch-item");let a=1,c=9,f="",C="";s.forEach(l=>{l.addEventListener("click",function(){s.forEach(u=>{u.classList.remove("is-active")}),this.classList.add("is-active"),f=this.textContent.trim()})}),e.addEventListener("submit",function(l){l.preventDefault();const u=i.value.trim().toLowerCase();t.innerHTML="",axios.get("/api/exercises",{params:{search:u,filter:f,subtype:C,page:a,limit:c}}).then(p=>{const g=p.data;g.length===0?iziToast.error({title:"No Results",message:"",position:"topCenter",timeout:5e3,closeOnClick:!0}):g.forEach(E=>{const h=document.createElement("li");h.textContent=E.name,t.appendChild(h)})}).catch(p=>{})})});const d=document.querySelector("#subscribe-form"),$=document.querySelector("#footer-input"),P=/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/;d.addEventListener("submit",async e=>{e.preventDefault();const i=d.elements.email.value.trim().toLowerCase();if(!i.match(P)){$.style.borderColor="red",y();return}await B(i)&&S(),d.reset()});async function B(e){try{return await O({email:e},"subscription")}catch(i){if(i.response.status===409){y();return}M()}}
//# sourceMappingURL=commonHelpers2.js.map
